<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom Shape Editor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="backBtn">‚Üê Back</button>
  <h1>Custom Shape Editor</h1>

  <div id="controls">
    <label>Shape:
      <select id="shapeSelector">
        <option value="cuboid">Cuboid</option>
        <option value="sphere">Sphere</option>
        <option value="ellipsoid">Ellipsoid</option>
        <option value="pyramid">Pyramid</option>
        <option value="cylinder">Cylinder</option>
        <option value="cone">Cone</option>
        <option value="torus">Torus</option>
        <option value="capsule">Capsule</option>
        <option value="ring">Ring</option>
        <option value="octahedron">Octahedron</option>
        <option value="dodecahedron">Dodecahedron</option>
        <option value="icosahedron">Icosahedron</option>
      </select>
    </label>


    <label>Width: <span id="widthValue">1 cm</span>
      <input id="widthSlider" type="range" min="1" max="5" value="1">
    </label>

    <label>Height: <span id="heightValue">1 cm</span>
      <input id="heightSlider" type="range" min="1" max="5" value="1">
    </label>

    <label>Depth: <span id="depthValue">1 cm</span>
      <input id="depthSlider" type="range" min="1" max="5" value="1">
    </label>

    <label>Radius: <span id="radiusValue">1 cm</span>
      <input id="radiusSlider" type="range" min="1" max="5" value="1">
    </label>

    <label>Color:
      <input type="color" id="colorPicker" value="#ff5500">
    </label>

    <div style="margin-top:10px;">
      <button id="goToFloat">Floating Simulator</button>
      <button id="sendToTrampolineBtn">Trampoline Sim</button>
    </div>
  </div>

  <div id="canvas-container"></div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="custom.js"></script>
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      function saveShape() {
        const shape = document.getElementById("shapeSelector").value;
        const w = Number(document.getElementById("widthSlider").value);
        const h = Number(document.getElementById("heightSlider").value);
        const d = Number(document.getElementById("depthSlider").value);
        const r = Number(document.getElementById("radiusSlider").value);
        const color = document.getElementById("colorPicker").value;

        const dims = { width: w, height: h, depth: d, radius: r };
        localStorage.setItem("trampolineShape", JSON.stringify({ type: shape, dimensions: dims, color, density: 0.6 }));
      }

      document.getElementById("goToFloat").addEventListener("click", () => {
        saveShape();
        location.href = "Float-Page.html";
      });
      
      document.getElementById("sendToTrampolineBtn").addEventListener("click", () => {
        saveShape();
        location.href = "Trampoline-Page.html";
      });
    });

          const backBtn = document.getElementById("backBtn");
      if (backBtn) {
        backBtn.addEventListener("click", () => {
          if (window.history.length > 1) {
            window.history.back(); 
          } else {
            window.location.href = "index.html"; 
          }
        });
      }
  </script>

</body>
</html>